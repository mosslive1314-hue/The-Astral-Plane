# æ™ºè°±AI API ä½¿ç”¨è¯´æ˜Ž

## ðŸ“Š è°ƒç”¨é™åˆ¶

### RPM (Requests Per Minute) - æ¯åˆ†é’Ÿè¯·æ±‚æ•°
- å…è´¹è´¦æˆ·ï¼šé€šå¸¸è¾ƒä½Žï¼ˆå¦‚ 20-100 æ¬¡/åˆ†é’Ÿï¼‰
- ä»˜è´¹è´¦æˆ·ï¼šæ ¹æ®å¥—é¤ä¸åŒï¼Œå¯è¾¾å‡ åƒæ¬¡/åˆ†é’Ÿ

### TPM (Tokens Per Minute) - æ¯åˆ†é’ŸTokenæ•°
- æ¯åˆ†é’Ÿå¤„ç†çš„æœ€å¤§Tokenæ•°é‡

### å¹¶å‘é™åˆ¶
- çŸ­æ—¶é—´å†…å¤§é‡è¯·æ±‚å¯èƒ½è§¦å‘é™æµä¿æŠ¤
- å¤šä¸ªIPåŒæ—¶è°ƒç”¨å¯èƒ½è§¦å‘å®‰å…¨é™åˆ¶

## ðŸ’° é¢åº¦æ¶ˆè€—

**æ˜¯çš„ï¼Œåˆ«äººä½¿ç”¨ä½ çš„ç½‘ç«™ä¼šæ¶ˆè€—ä½ çš„APIé¢åº¦ï¼**

- æ¯æ¬¡è°ƒç”¨æ™ºè°±AIéƒ½ä¼šæ¶ˆè€—ä½ çš„è´¦æˆ·ä½™é¢
- å»ºè®®è®¾ç½®ï¼š
  1. æ¯æ—¥æœ€å¤§è°ƒç”¨æ¬¡æ•°é™åˆ¶
  2. æ¯ç”¨æˆ·è°ƒç”¨æ¬¡æ•°é™åˆ¶
  3. é¢åº¦å‘Šè­¦æœºåˆ¶

## ðŸ›¡ï¸ é«˜å¹¶å‘é—®é¢˜

### å¯èƒ½å‡ºçŽ°çš„é—®é¢˜ï¼š
1. **é€ŸçŽ‡é™åˆ¶é”™è¯¯**ï¼š`429 Too Many Requests`
2. **æœåŠ¡æš‚æ—¶ä¸å¯ç”¨**ï¼šçŸ­æ—¶é—´å†…å¤§é‡å¹¶å‘è¯·æ±‚
3. **IPé™åˆ¶**ï¼šå¤šä¸ªIPåŒæ—¶è°ƒç”¨åŒä¸€API Key

### è§£å†³æ–¹æ¡ˆï¼š
1. **å‰ç«¯è¯·æ±‚é™æµ**ï¼šé™åˆ¶æ¯ç§’/æ¯åˆ†é’Ÿè¯·æ±‚æ¬¡æ•°
2. **è¯·æ±‚é˜Ÿåˆ—**ï¼šå°†è¯·æ±‚æŽ’é˜Ÿå¤„ç†
3. **æŒ‡æ•°é€€é¿**ï¼šå¤±è´¥åŽç­‰å¾…æ—¶é—´é€’å¢žé‡è¯•
4. **å¤šAPI Key**ï¼šä¸åŒç”¨æˆ·ä½¿ç”¨ä¸åŒKey
5. **ç¼“å­˜æœºåˆ¶**ï¼šç›¸åŒé—®é¢˜ä¸é‡å¤è°ƒç”¨AI

## ðŸ“ï¸ ä»£ç ç¤ºä¾‹

```javascript
// è¯·æ±‚é™æµç¤ºä¾‹
let requestCount = 0
let lastResetTime = Date.now()
const MAX_REQUESTS_PER_MINUTE = 50

async function rateLimitedRequest(prompt) {
  const now = Date.now()
  const elapsed = now - lastResetTime

  // æ¯åˆ†é’Ÿé‡ç½®è®¡æ•°
  if (elapsed > 60000) {
    requestCount = 0
    lastResetTime = now
  }

  // æ£€æŸ¥æ˜¯å¦è¶…é™
  if (requestCount >= MAX_REQUESTS_PER_MINUTE) {
    const waitTime = 60000 - elapsed
    await new Promise(resolve => setTimeout(resolve, waitTime))
    requestCount = 0
    lastResetTime = Date.now()
  }

  requestCount++
  // ... æ‰§è¡ŒAPIè°ƒç”¨
}
```
